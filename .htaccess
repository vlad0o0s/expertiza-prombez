RewriteEngine On
RewriteBase /

# Перенаправление старых URL с .php на новые без .php (301 редирект)
# Исключаем sendmail.php из редиректа (для AJAX запросов)
RewriteCond %{THE_REQUEST} \s/+(.+?)\.php[\s?] [NC]
RewriteCond %{REQUEST_URI} !^/sendmail\.php [NC]
RewriteRule ^ /%1? [R=301,L]

# Перенаправление /expertiza-prombezopasnosti на /pages/expertiza-prombezopasnosti.php
RewriteRule ^expertiza-prombezopasnosti/?$ pages/expertiza-prombezopasnosti.php [L]

# Перенаправление /zapros-kommercheskogo-predlozheniya на /pages/zapros-kommercheskogo-predlozheniya.php
RewriteRule ^zapros-kommercheskogo-predlozheniya/?$ pages/zapros-kommercheskogo-predlozheniya.php [L]

# Перенаправление /epb-podemnih-sooruzheniy-i-kranov на /pages/expertiza-template.php
RewriteRule ^epb-podemnih-sooruzheniy-i-kranov/?$ pages/expertiza-template.php [L]

# Перенаправление /about на /pages/about.php
RewriteRule ^about/?$ pages/about.php [L]

# Перенаправление /stati/oboznacheniye-trass-polietilenovykh-gazoprovodov на страницу статьи
RewriteRule ^stati/oboznacheniye-trass-polietilenovykh-gazoprovodov/?$ pages/stati/oboznacheniye-trass-polietilenovykh-gazoprovodov.php [L]

# Перенаправление /stati на /pages/stati.php
RewriteRule ^stati/?$ pages/stati.php [L]

# Если запрашивается файл без расширения, проверяем существование .php файла
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php [L]

